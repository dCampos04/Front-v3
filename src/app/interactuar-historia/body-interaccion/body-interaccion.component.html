<main>
  <ng-container *ngIf="!isQuizCompleted">
    <div class="container ">
      <div class="card mt-5 mb-5">
        <div class="d-flex justifly-content-between mt-1 mb-1">
                <div class="image">
                  <img src="./assets/startup.png" width="70" alt="logo">
                </div>
                <div class="quiz-header">
                  <h4 style="font-style: italic; margin-left: 400px;"> Responde las preguntas...</h4>
                  <span style="font-style: italic; margin-left: 280px;"> Bienvenido {{nombreEstudiante}}!</span>
                </div>
        </div>

       <div>

         <div class="cards-container-7">

           <div class="card-7">
             <img [src]="jsonDecodificado.questions[currentQuestion]?.lienzo" >

           </div>
         </div>


       </div>
              <div class="d-flex justifly-center py-3" >
                <div class="score">
                  <h5 style="font-style: italic; ; margin-left: 120px;">{{points}} Puntos</h5>
                </div>
                <div class="question-remain">
                  <span style="font-style: italic; margin-left: 120px;">Pregunta {{currentQuestion+1}} de {{questionList.length}}</span>
                </div>
                <div class="timer">
                  <h5 style="font-style: italic; margin-left: 120px;">{{counter}} seg ⏰</h5>
                </div>
              </div>


              <div class="progress mb-3" role="progressbar" aria-label="Default striped example" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar progress-bar-striped" [ngStyle]="{'width':progress+'%'}"></div>
              </div>

              <div class="question">
                <div class="card">
                  <h3>{{jsonDecodificado.questions[currentQuestion]?.questionText}}</h3>

                </div>
              </div>


        <div class="options">
          <ol>
            <li *ngFor="let option of jsonDecodificado.questions[currentQuestion]?.options">


              <div
                (click)="selectOption(option)"
                [ngClass]="{'selected': option.selected, 'card': true, 'correct': option.correct}">
                {{option.text}}
              </div>
            </li>
          </ol>
        </div>

              <div class="btnend mt-3 mb-3">
                <!--<button [disabled]="currentQuestion===0" class="btn" (click)="previusQuestion()"><i class="fa text-primary fa-chevron-left fa-2x" aria-hidden="true"></i></button>-->
                <!--<button class="btn" (click)="resetQuiz()"><i class="fa text-primary fa-refresh fa-2x" aria-hidden="true"></i></button>-->
                <button *ngIf="currentQuestion < 4" class="btn" (click)="nextQuestion()">
                  <i class="fa text-primary fa-chevron-right fa-2x" aria-hidden="true"></i>
                </button>
                <button *ngIf="currentQuestion >= 4" class="btn btn-primary" (click)="endQuiz()">FINALIZAR</button>
              </div>
      </div>
      <div class="card panel2" *ngIf="click3==0">
      <button (click)="clickv1()" class="btn btn-secondary aa">Ver palabra clave</button>
      </div>
      <div class="card panel" *ngIf="click3===1">
        <button (click)="clickv1()" class="btn btn-primary aa">{{jsonDecodificado.questions[currentQuestion]?.palabraText  || 'No se registró'}}</button>
        <div class="card-body panel-content">
          <p >* {{jsonDecodificado.questions[currentQuestion]?.significado || 'No se registró'}}</p>
          <p >* {{jsonDecodificado.questions[currentQuestion]?.casouso  || 'No se registró'}}</p>
        </div>
      </div>
    </div>
  </ng-container>



<ng-container *ngIf="isQuizCompleted">
  <main class="main3">
  <div class="card4">
    <div class="row">
      <div class="col-md-6 text-center">
        <img class="img-fluid" src="./assets/ScoreEstudiante.jpg">
      </div>
      <div class="col-md-6">
          <br>


          <h2>Felicidades! <br> La evaluación ha terminado </h2>
          <h3>Estos son tus resultados:</h3>
          <h5> Total de preguntas formuladas: 5</h5>
          <h5> Total de preguntas correctas: {{correctAnswer}}</h5>
          <h5> Total de preguntas incorrectas: {{inCorrectAnswer}}</h5>
          <h3> Tu puntaje: {{points}}/20 Puntos</h3>
          <button routerLink="/interactua" class="btn btn-danger mt-5" (click)="completarActividad()">Salir</button>


      </div>
    </div>
  </div>
  </main>
</ng-container>
</main>


